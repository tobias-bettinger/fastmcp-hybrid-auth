# FastMCP Server Configuration
# Copy this file to .env and fill in your values

# ======================
# Server Configuration
# ======================
SERVER_NAME="FastMCP Boilerplate Server"
SERVER_DESCRIPTION="Production-ready MCP server with Azure Entra ID authentication"
ENVIRONMENT=development  # development, staging, or production
DEBUG=false

# Network Settings
HOST=0.0.0.0
PORT=8000
TRANSPORT=http  # http, sse, or stdio

# ======================
# Logging Configuration
# ======================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
# LOG_FILE=logs/server.log  # Optional: uncomment to enable file logging

# ======================
# Security Configuration
# ======================
ENABLE_AUTH=true
CORS_ORIGINS=*  # Comma-separated list or * for all

# ======================
# Azure Entra ID Authentication
# ======================
# Get these values from Azure Portal > App Registrations

# Required
AZURE_CLIENT_ID=your-client-id-here
AZURE_CLIENT_SECRET=your-client-secret-here
AZURE_TENANT_ID=your-tenant-id-here

# Base URL (where your server is accessible)
# For development: http://localhost:8000
# For production: https://your-domain.com
AZURE_BASE_URL=http://localhost:8000

# Required scopes (comma or space separated)
AZURE_REQUIRED_SCOPES=read,write

# Optional: Override the identifier URI (defaults to api://{client_id})
# AZURE_IDENTIFIER_URI=api://your-custom-app-id

# Optional: OAuth callback path (defaults to /auth/callback)
# AZURE_REDIRECT_PATH=/auth/callback

# Optional: Additional scopes to request (e.g., User.Read for Microsoft Graph)
# AZURE_ADDITIONAL_AUTHORIZE_SCOPES=User.Read

# Optional: For Azure Government cloud
# AZURE_BASE_AUTHORITY=login.microsoftonline.us

# Optional: JWT signing key for session persistence across restarts
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
# JWT_SIGNING_KEY=your-random-secret-key-here

# ======================
# Redis Configuration (Optional - for production token storage)
# ======================
# Uncomment and configure if using Redis for persistent token storage

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=your-redis-password

# Required if using Redis - Fernet encryption key for token storage
# Generate with: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
# STORAGE_ENCRYPTION_KEY=your-fernet-key-here

# ======================
# Keycloak Authorization (Optional - for on-premise authorization)
# ======================
# Enable Keycloak for authorization (role-based access control)
ENABLE_KEYCLOAK=false

# Keycloak Server Configuration
# KEYCLOAK_SERVER_URL=https://keycloak.your-domain.com
# KEYCLOAK_REALM=your-realm-name
# KEYCLOAK_CLIENT_ID=mcp-server
# KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret

# Optional: SSL verification (set to false for self-signed certs in dev)
# KEYCLOAK_VERIFY_SSL=true

# Optional: Token exchange and caching (defaults to true)
# KEYCLOAK_ENABLE_TOKEN_EXCHANGE=true
# KEYCLOAK_CACHE_TOKENS=true

# ======================
# Alternative: Use FastMCP environment variable format
# ======================
# You can also use the FASTMCP_SERVER_AUTH_* format if preferred:
#
# FASTMCP_SERVER_AUTH=fastmcp.server.auth.providers.azure.AzureProvider
# FASTMCP_SERVER_AUTH_AZURE_CLIENT_ID=your-client-id
# FASTMCP_SERVER_AUTH_AZURE_CLIENT_SECRET=your-client-secret
# FASTMCP_SERVER_AUTH_AZURE_TENANT_ID=your-tenant-id
# FASTMCP_SERVER_AUTH_AZURE_BASE_URL=http://localhost:8000
# FASTMCP_SERVER_AUTH_AZURE_REQUIRED_SCOPES=read,write
